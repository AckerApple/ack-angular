{"ast":null,"code":"import { TemplateRef, ElementRef } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"template\"];\nconst _c1 = [\"*\"];\nexport let ScrollPastFixed = /*#__PURE__*/(() => {\n  class ScrollPastFixed {\n    constructor(ElementRef) {\n      this.ElementRef = ElementRef;\n    }\n\n    getReadElement() {\n      const children = this.ElementRef.nativeElement.children;\n      return children[children.length - 2];\n    }\n\n    init() {\n      this.onScroll = () => this.check();\n\n      window.addEventListener(\"scroll\", this.onScroll);\n      this.onScroll();\n    }\n\n    ngAfterViewInit() {\n      Promise.resolve().then(() => this.init());\n    }\n\n    check() {\n      const scrollPos = window['pageYOffset'];\n\n      if (this.placeholder && this.placeholder <= scrollPos) {\n        return;\n      }\n\n      const elm = this.getReadElement();\n      const offsetTop = this.placeholder || getDistanceFromTop(elm);\n\n      if (offsetTop <= scrollPos) {\n        this.currentPosition = 'fixed';\n        this.placeholder = offsetTop;\n        this.fillHeight = elm.offsetHeight;\n      } else {\n        delete this.fillHeight;\n        delete this.placeholder;\n        delete this.currentPosition;\n      }\n    }\n\n  }\n\n  ScrollPastFixed.ɵfac = function ScrollPastFixed_Factory(t) {\n    return new (t || ScrollPastFixed)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n\n  ScrollPastFixed.ɵcmp = i0.ɵɵdefineComponent({\n    type: ScrollPastFixed,\n    selectors: [[\"scroll-past-fixed\"]],\n    viewQuery: function ScrollPastFixed_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n      }\n    },\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 4,\n    consts: [[2, \"width\", \"100%\", \"top\", \"0\", \"z-index\", \"1\"]],\n    template: function ScrollPastFixed_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵprojection(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"div\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"position\", ctx.currentPosition);\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"height\", ctx.fillHeight, \"px\");\n      }\n    },\n    encapsulation: 2\n  });\n  return ScrollPastFixed;\n})();\nexport function getDistanceFromTop(element) {\n  let yPos = 0;\n\n  while (element) {\n    yPos += element.offsetTop;\n    element = element.offsetParent;\n  }\n\n  return yPos;\n}","map":null,"metadata":{},"sourceType":"module"}