{"version":3,"sources":["../src/RouteDocWatcher.component.ts"],"names":[],"mappings":"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","file":"RouteDocWatcher.component.js","sourceRoot":"","sourcesContent":["import { TransitionService } from \"ui-router-ng2\";\nimport { Directive, Input, Output, EventEmitter } from \"@angular/core\"\nimport { RouteWatcher } from \"./RouteWatcher.class\"\n\n export class RouteDocWatcher{\n  public $document\n  public $scope\n  //public RouteWatcher : RouteWatcher\n  static parameters = [[RouteWatcher],[TransitionService]]\n  public docCallbacks\n  //public isBackButton\n  //public isNotBackButton\n  //public mouseover\n\n   public stateChanger = new EventEmitter()\n   public beforeChanger = new EventEmitter()\n   public onLoad\n   public ref//variable reference\n   public refChange = new EventEmitter()\n\n  constructor(public RouteWatcher:RouteWatcher, public TransitionService:TransitionService){\n    this.$document = document\n\n    this.docCallbacks = RouteWatcher.getDocumentCallbacks()\n    \n    TransitionService.onStart({to:'*'}, transition=>{\n      this.beforeChanger.emit( this.RouteWatcher )\n    })\n\n    TransitionService.onSuccess({to:'*'}, transition=>{\n      //ensure smallest gap in digest occurs for things like animation swapping\n      setTimeout(()=>this.stateChanger.emit( this.RouteWatcher ), 0)\n    })\n\n    RouteWatcher.watchDocByCallbacks(this.$document, this.docCallbacks)\n  }\n\n  ngOnDestroy(){\n    this.RouteWatcher.unwatchDocByCallbacks(this.$document, this.docCallbacks)\n  }\n\n  ngOnInit(){\n    this.ref = this.RouteWatcher\n    setTimeout(()=>this.refChange.emit(this.ref), 0)\n\n    if(this.onLoad){\n      this.onLoad({\n        state:this.RouteWatcher.$state.current,\n        params:this.RouteWatcher.$state.params,\n        current:this.RouteWatcher.$state.current\n      })\n    }\n  }\n\n  goBackTo(name, params){\n    this.RouteWatcher.goBackTo(name, params)\n  }\n\n  tryBack(name, params){\n    this.RouteWatcher.tryBack(name, params)\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  //inputs:['ref'],\n  selector: 'route-doc-watcher'\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: RouteWatcher, },\n{type: TransitionService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'stateChanger': [{ type: Output, args: [\"onChange\", ] },],\n'beforeChanger': [{ type: Output, args: [\"beforeChange\", ] },],\n'onLoad': [{ type: Input },],\n'ref': [{ type: Input },],\n'refChange': [{ type: Output },],\n};\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}