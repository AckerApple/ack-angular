{"version":3,"sources":["../src/UiRouteReporter.component.ts"],"names":[],"mappings":"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","file":"UiRouteReporter.component.js","sourceRoot":"","sourcesContent":["import { TransitionService } from \"ui-router-ng2\";\nimport { Directive, Input, Output, EventEmitter } from \"@angular/core\"\nimport { UiRouteWatchReporter } from \"./UiRouteWatchReporter.class\"\n\n export class UiRouteReporter{\n  public $document\n  public $scope\n  static parameters = [[UiRouteWatchReporter],[TransitionService]]\n  public docCallbacks\n  //public isBackButton\n  //public isNotBackButton\n  //public mouseover\n\n   public stateChanger = new EventEmitter()\n   public beforeChanger = new EventEmitter()\n   public onLoad\n   public ref//variable reference\n   public refChange = new EventEmitter()\n\n  constructor(public UiRouteWatchReporter:UiRouteWatchReporter, public TransitionService:TransitionService){\n    this.$document = document\n\n    this.docCallbacks = UiRouteWatchReporter.getDocumentCallbacks()\n    \n    TransitionService.onStart({to:'*'}, transition=>{\n      this.beforeChanger.emit( this.UiRouteWatchReporter )\n    })\n\n    TransitionService.onSuccess({to:'*'}, transition=>{\n      //ensure smallest gap in digest occurs for things like animation swapping\n      setTimeout(()=>this.stateChanger.emit( this.UiRouteWatchReporter ), 0)\n    })\n\n    UiRouteWatchReporter.watchDocByCallbacks(this.$document, this.docCallbacks)\n  }\n\n  ngOnDestroy(){\n    this.UiRouteWatchReporter.unwatchDocByCallbacks(this.$document, this.docCallbacks)\n  }\n\n  ngOnInit(){\n    this.ref = this.UiRouteWatchReporter\n    setTimeout(()=>this.refChange.emit(this.ref), 0)\n\n    if(this.onLoad){\n      this.onLoad({\n        state:this.UiRouteWatchReporter.$state.current,\n        params:this.UiRouteWatchReporter.$state.params,\n        current:this.UiRouteWatchReporter.$state.current\n      })\n    }\n  }\n\n  goBackTo(name, params){\n    this.UiRouteWatchReporter.goBackTo(name, params)\n  }\n\n  tryBack(name, params){\n    this.UiRouteWatchReporter.tryBack(name, params)\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  //inputs:['ref'],\n  selector: 'ui-route-reporter'\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: UiRouteWatchReporter, },\n{type: TransitionService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'stateChanger': [{ type: Output, args: [\"onChange\", ] },],\n'beforeChanger': [{ type: Output, args: [\"beforeChange\", ] },],\n'onLoad': [{ type: Input },],\n'ref': [{ type: Input },],\n'refChange': [{ type: Output },],\n};\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}