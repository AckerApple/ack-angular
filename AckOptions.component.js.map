{"version":3,"sources":["../src/AckOptions.component.ts"],"names":[],"mappings":"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","file":"AckOptions.component.js","sourceRoot":"","sourcesContent":["import { array } from \"./pipes.class\"\n\nimport {\n  ContentChild,\n  TemplateRef,\n  Component,\n  Input,\n  Output,\n  EventEmitter\n} from \"@angular/core\"\n\nimport { string as ackOptions } from \"./templates/ack-options.pug\"\n export class AckOptions{\n   public array = []\n   public stylize = true\n   public multiple = false\n   public toggleable = false//multiple must be false\n   public model\n   public modelChange = new EventEmitter()\n    public templateRef:TemplateRef<any>\n   private ref\n   public refChange = new EventEmitter()\n   public arrayKey:string\n\n  ngOnInit(){\n    setTimeout(()=>{\n      this.ref = Object.assign(this,this.ref)\n      this.refChange.emit(this.ref)\n    }, 0)\n  }\n\n  selectItem(item){\n    const value = this.getArrayValue(item)\n\n    if(this.multiple){\n      const modelIndex = this.modelIndex( item )\n      if(modelIndex>=0){\n        this.model.splice(modelIndex, 1)\n      }else{\n        this.model.push( value )\n      }\n    }else{\n      if(this.toggleable && this.model==value){\n        this.model = null\n      }else{\n        this.model = value\n      }\n    }\n    this.modelChange.emit(this.model)\n  }\n\n  getArrayValue(item){\n    if(!this.arrayKey)return item\n\n    let items = this.arrayKey.split('.')\n    var scope = item\n    while(items.length){\n      if( scope==null )return null\n      scope = scope[ items.shift() ]\n    }\n\n    return scope\n  }\n\n  modelIndex(item){\n    this.model = array(this.model)\n    for(let i=this.model.length-1; i >= 0; --i){\n      let value = this.getArrayValue( item )\n      if( value==this.model[i] )return i\n    }\n    return -1\n  }\n\n  getItemClass(item){\n    return {\n      'cursor-pointer pad-h pad-v-sm border-grey-6x border-bottom' : this.stylize,\n      'bg-warning' : this.stylize && this.modelIndex(item)>=0,\n      'hover-bg-grey-5x' : this.stylize && this.modelIndex(item)<0\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector:'ack-options',\n  template:ackOptions\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'array': [{ type: Input },],\n'stylize': [{ type: Input },],\n'multiple': [{ type: Input },],\n'toggleable': [{ type: Input },],\n'model': [{ type: Input },],\n'modelChange': [{ type: Output },],\n'templateRef': [{ type: ContentChild, args: [TemplateRef, ] },{ type: Input },],\n'ref': [{ type: Input },],\n'refChange': [{ type: Output },],\n'arrayKey': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}