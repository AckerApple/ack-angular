{"version":3,"sources":["RouteReporter.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,oDAAC;AACD,sCAAuD;AACvD,uEAAmC;AACnC,0CAAgD;AAK7C,IAAa,aAAa;IAiB3B,uBAAmB,kBAAqC;QAAxD,iBAsBC;QAtBkB,uBAAkB,GAAlB,kBAAkB,CAAmB;QAVxD,qBAAqB;QACrB,wBAAwB;QACxB,kBAAkB;QAES,iBAAY,GAAG,IAAI,mBAAY,EAAE,CAAA;QAC7B,kBAAa,GAAG,IAAI,mBAAY,EAAE,CAAA;QAGhD,cAAS,GAAG,IAAI,mBAAY,EAAE,CAAA;QAG7C,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAA;QACzB,IAAI,CAAC,YAAY,GAAG,kBAAkB,CAAC,oBAAoB,EAAE,CAAA;QAE7D;;;;;;;YAOI;QAEJ,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,KAAK;YAC9C,EAAE,CAAA,CAAC,KAAK,CAAC,WAAW,IAAI,sBAAa,CAAC,CAAA,CAAC;gBACrC,KAAI,CAAC,YAAY,CAAC,IAAI,CAAE,KAAI,CAAC,kBAAkB,CAAE,CAAA;YACnD,CAAC;QACH,CAAC,CAAC,CAAA;QAEF,kBAAkB,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;QAEzE,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,kBAAkB,CAAA;IACpC,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;IAClF,CAAC;IAED,gCAAQ,GAAR;QAAA,iBAUC;QATC,UAAU,CAAC,cAAI,OAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,GAAG,CAAC,EAA7B,CAA6B,EAAE,CAAC,CAAC,CAAA;QAEhD,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,CAAC;YACd,IAAI,CAAC,MAAM,CAAC;gBACV,KAAK,EAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO;gBACrC,MAAM,EAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,MAAM;gBAC7C,OAAO,EAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO;aACxC,CAAC,CAAA;QACJ,CAAC;IACH,CAAC;IAED,gCAAQ,GAAR,UAAS,IAAI,EAAE,MAAM;QACnB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;IAChD,CAAC;IAED,+BAAO,GAAP,UAAQ,IAAI,EAAE,MAAM;QAClB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;IAC/C,CAAC;IACH,oBAAC;AAAD,CAhEG,AAgEF,IAAA;AA7DQ,wBAAU,GAAG,CAAC;QACnB,6CAAkB;KACnB,CAAC,CAAA;AAMkB;IAAnB,aAAM,CAAC,UAAU,CAAC;;mDAAyC;AACpC;IAAvB,aAAM,CAAC,cAAc,CAAC;;oDAA0C;AACxD;IAAR,YAAK,EAAE;;6CAAc;AACb;IAAR,YAAK,EAAE;;0CAAW;AACT;IAAT,aAAM,EAAE;;gDAAsC;AAfjC,aAAa;IAH5B,gBAAS,CAAC;QACT,iBAAiB;QACjB,QAAQ,EAAE,gBAAgB;KAC3B,CAAC;qCAiBsC,6CAAkB;GAjB1C,aAAa,CAgE5B;AAhEe,sCAAa","file":"RouteReporter.component.js","sourceRoot":"","sourcesContent":["//import { TransitionService } from \"ui-router-ng2\";\nimport { Directive, Input, Output, EventEmitter } from \"@angular/core\"\nimport { RouteWatchReporter } from \"./RouteWatchReporter.class\"\nimport { NavigationEnd } from '@angular/router';\n\n@Directive({\n  //inputs:['ref'],\n  selector: 'route-reporter'\n}) export class RouteReporter{\n  public $document\n  public $scope\n  static parameters = [[\n    RouteWatchReporter\n  ]]\n  public docCallbacks\n  //public isBackButton\n  //public isNotBackButton\n  //public mouseover\n\n  @Output(\"onChange\") public stateChanger = new EventEmitter()\n  @Output(\"beforeChange\") public beforeChanger = new EventEmitter()\n  @Input() public onLoad\n  @Input() public ref//variable reference\n  @Output() public refChange = new EventEmitter()\n\n  constructor(public RouteWatchReporter:RouteWatchReporter){\n    this.$document = document\n    this.docCallbacks = RouteWatchReporter.getDocumentCallbacks()\n    \n    /*TransitionService.onStart({to:'*'}, transition=>{\n      this.beforeChanger.emit( this.RouteWatchReporter )\n    })\n\n    TransitionService.onSuccess({to:'*'}, transition=>{\n      //ensure smallest gap in digest occurs for things like animation swapping\n      setTimeout(()=>this.stateChanger.emit( this.RouteWatchReporter ), 0)\n    })*/\n\n    RouteWatchReporter.router.events.subscribe(event=>{\n      if(event.constructor == NavigationEnd){\n        this.stateChanger.emit( this.RouteWatchReporter )\n      }\n    })\n\n    RouteWatchReporter.watchDocByCallbacks(this.$document, this.docCallbacks)\n    \n    this.ref = this.RouteWatchReporter\n  }\n\n  ngOnDestroy(){\n    this.RouteWatchReporter.unwatchDocByCallbacks(this.$document, this.docCallbacks)\n  }\n\n  ngOnInit(){\n    setTimeout(()=>this.refChange.emit(this.ref), 0)\n\n    if(this.onLoad){\n      this.onLoad({\n        state:this.RouteWatchReporter.current,\n        params:this.RouteWatchReporter.current.params,\n        current:this.RouteWatchReporter.current\n      })\n    }\n  }\n\n  goBackTo(name, params){\n    this.RouteWatchReporter.goBackTo(name, params)\n  }\n\n  tryBack(name, params){\n    this.RouteWatchReporter.tryBack(name, params)\n  }\n}"]}