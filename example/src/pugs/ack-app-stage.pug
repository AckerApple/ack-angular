mixin top
  .text-center(*ngIf="!inFx")
    br
    a.text-xs(href="#top" pageScroll) top
    br
    br

ng-container("[(htmlWidthModel)]"="screenWidthModel")

route-reporter(
  "[(ref)]"        = "routeReporter"
  "(beforeChange)" = "panelAnim=$event.isBackMode?'slideInLeft':'slideInRight';isBackMode=$event.isBackMode;"
  "(onChange)"     = "stateName=$event.current.config.name"
)

ack-fixed-element-stage

div(id="top")

//-small screen footer menu
ack-app-templates(*ngIf="screenWidthModel < 800")
  ng-template(#footer="")
    absolute-overflow-x.bg-info.text-center.border-top.border-grey-2x(
      "[@fadeInUp]"=1
    )
      .flex.child-hover-bg-warning.child-pad-h-lg.child-pad-v-sm
        a.nowrap.no-a-style.flex-1.border-right.border-white.height-60.flex-valign-center(
          *ngFor    = "let item of menu"
          "[ngClass]" = "{'strong bg-energized':stateName==item.path}"
          "[href]"  = "'#/' + item.path"
        ) {{ item.data.title }}

reader-header-body(style="font-size:16px;")
  ack-app(mode="clone")
    fx-tracker(
      "[(fxId)]"       = "fxId"
      "[activatedRoute]" = "routerOutlet.activated ? routerOutlet.activatedRoute : null"
    )
    table.height-full.width-full(
      cellPadding=0
      cellSpacing=0
      border=0
    )
      tbody
        tr
          td
            div(style="max-width:1000px")
              .bg-energized.border-grey-3x.border-left-1.border-right-1
                .flex-valign-center.flex-wrap
                  strong.margin-0(
                    "[ngClass]"="screenWidthModel > 800 ? 'pad-xs text-6x' : 'pad-xxs text-4x'"
                  )
                    span.text-sm ðŸš´
                    |&nbsp;ack-angular
                  span.text-right.flex-1.text-white.pad-right-xs
                    |v{{ version }}
              div(
                *ngIf = "screenWidthModel > 800"
                "[@fadeInUp]"=1
              )
                scroll-past-fixed
                  div(style="max-width:1000px")
                    absolute-overflow-x.bg-info.text-center.border-bottom.border-grey-2x
                      .flex.child-hover-bg-warning.child-pad-sm.text-2x
                        a.no-a-style.flex-1.border-right.border-white(
                          *ngFor    = "let item of menu"
                          "[ngClass]" = "{'strong bg-energized':stateName==item.path}"
                          "[href]"  = "'#/' + item.path"
                        ) {{ item.data.title }}

        tr
          td.width-full.height-full.bg-white.border-grey-3x
            table.width-full.height-full(cellPadding=0 cellSpacing=0 border=0)
              tr
                //-force pad left
                td("[ngClass]"="screenWidthModel>=800 ? 'width-20' : 'width-10'")
                //-router wrap
                td
                  .text-left.height-full.pad-top-lg(
                    "[@slideInLeftKids]"    = "{value:fxId, params:{time:'500ms'}}"
                    "[@absoluteKids]"       = "{value:fxId, params:{time:'500ms'}}"
                    "(@absoluteKids.start)" = "inFx=true"
                    "(@absoluteKids.done)"  = "inFx=false"
                    "[style.max-width.px]"  = "screenWidthModel - (screenWidthModel>=800 ? 40 : 20)"
                    "[ngStyle]"             = "inFx ? {position:'relative',overflow:'hidden'} : null"
                  )
                    router-outlet(#routerOutlet="outlet")
                //-force pad right
                td("[ngClass]"="screenWidthModel>=800 ? 'width-20' : 'width-10'")
        tr
          td
            +top
